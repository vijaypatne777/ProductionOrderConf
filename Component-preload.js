//@ui5-bundle Prod_Ord_Conf/Production_Ord_Conf/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"Prod_Ord_Conf/Production_Ord_Conf/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","Prod_Ord_Conf/Production_Ord_Conf/model/models"],function(e,o,t){"use strict";return e.extend("Prod_Ord_Conf.Production_Ord_Conf.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(t.createDeviceModel(),"device")},destroy:function(){sap.ui.core.UIComponent.prototype.destroy.apply(this,arguments)}})});
},
	"Prod_Ord_Conf/Production_Ord_Conf/controller/FileUpload.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/m/MessagePopover","sap/m/MessageItem","sap/ui/core/format/DateFormat","sap/m/Button"],function(e,r,t,s,a,i){"use strict";var o;return e.extend("Prod_Ord_Conf.Production_Ord_Conf.controller.FileUpload",{onInit:function(){this._pModel=this.getOwnerComponent().getModel("PORD");this._tModel=new sap.ui.model.json.JSONModel;this._msgModel=new sap.ui.model.json.JSONModel;this._oPromises=[];this._msgArr=[];this._msgData={msgs:this._msgArr};var e=this.byId("cUpload");e.setEnabled(false)},handleUploadPress:function(){function e(e,r){var t=parseInt(r.OrdNo);var s=parseInt(e.OrdNo);var a=parseInt(e.OpNo);var i=parseInt(r.OpNo);if(s<t){return-1}if(t==s){if(a<i)return-1}}var t=this;var s=[];var a=[];var i={prec:a};var o=this.byId("fileUploader");var n=this.byId("prodTable");if(!o.getValue()){r.show("Select the file first!");return}else{var u=o.getFocusDomRef();var c=u.files[0];if(c&&window.FileReader){var d=new FileReader;d.onload=function(r){var o=r.target.result;var u=o.replace(/\n/g,",").split(",");var c=12;var d=u.splice(0,c);while(u.length-1>0){var l={};var p={};var v=u.splice(0,c);for(var b=0;b<v.length;b++){l[d[b]]=v[b].trim();switch(b){case 0:p["OrdNo"]=l[d[b]];break;case 1:p["OpNo"]=l[d[b]];break;case 2:p["Ctype"]=l[d[b]];break;case 3:p["Quan"]=l[d[b]];break;case 4:p["CTEXT"]=l[d[b]];break;case 5:var g=l[d[b]];p["ValidF"]=g.substr(0,4)+"-"+g.substr(4,2)+"-"+g.substr(6,2)+"T00:00:00";break;case 6:var h=l[d[b]];p["ValidFT"]="PT"+h.substr(0,2)+"H"+h.substr(2,2)+"M"+h.substr(4,2)+"S";break;case 7:var f=l[d[b]];p["ValidFE"]=f.substr(0,4)+"-"+f.substr(4,2)+"-"+f.substr(6,2)+"T00:00:00";break;case 8:var m=l[d[b]];p["ValidFET"]="PT"+m.substr(0,2)+"H"+m.substr(2,2)+"M"+m.substr(4,2)+"S";break;case 9:var E=l[d[b]];p["PDATE"]=E.substr(0,4)+"-"+E.substr(4,2)+"-"+E.substr(6,2)+"T00:00:00";break;case 10:p["BT"]=l[d[b]];break;case 11:p["PNO"]=l[d[b]];break}}s.push(l);a.push(p)}a.sort(e);t._tModel.setData(i);n.setModel(t._tModel);var M=t.validateFileData();if(M){var y=t.byId("cUpload");y.setEnabled(true);t.byId("fileUploader").setEnabled(false);t.byId("tUpload").setEnabled(false)}};d.readAsBinaryString(c)}}},createProdConfPress:function(){function e(e,r){var t=(e.getTime()-r.getTime())/1e3;var s=t/(60*60);return Math.abs(Math.round(s))}sap.ui.core.BusyIndicator.show();var r=this;var t=this._tModel.getData();var s=this._pModel;var a;var i;var o;for(var n=0;n<t.prec.length;n++){var u={};u.OrderID=t.prec[n].OrdNo;u.OrderOperation=t.prec[n].OpNo;u.Sequence="0";if(t.prec[n].Ctype=="Y"){u.FinalConfirmationType="X"}u.ConfirmationYieldQuantity=t.prec[n].Quan;u.ConfirmedExecutionStartDate=t.prec[n].ValidF;u.ConfirmedExecutionStartTime=t.prec[n].ValidFT;u.ConfirmedProcessingEndDate=t.prec[n].ValidFE;u.ConfirmedProcessingEndTime=t.prec[n].ValidFET;var c=u.ConfirmedExecutionStartDate;var d=u.ConfirmedProcessingEndDate;var l=u.ConfirmedExecutionStartTime;var p=u.ConfirmedProcessingEndTime;var v=c.substr(0,4)+"/"+c.substr(5,2)+"/"+c.substr(8,2)+" "+l.substr(2,2)+":"+l.substr(5,2)+":"+l.substr(8,2);var b=d.substr(0,4)+"/"+d.substr(5,2)+"/"+d.substr(8,2)+" "+p.substr(2,2)+":"+p.substr(5,2)+":"+p.substr(8,2);var g=new Date(v);var h=new Date(b);var f=e(h,g);var m;if(f.toString().length==1){m="00"+f}if(f.toString().length==2){m="0"+f}if(f.toString().length==3){m=f}u.ConfirmationText="Production Hours="+m+"HR"+" "+t.prec[n].CTEXT;u.PostingDate=t.prec[n].Pdate;u.ConfirmedBreakDuration=t.prec[n].BT;u.BreakDurationUnit="MIN";u.Personnel=t.prec[n].PNO;if(n==0){o=0;a="GID"+o;i=u.OrderID}if(i!==u.OrderID){o=o+1;i=u.OrderID;a="GID"+o}var E=new Promise(function(e,t){s.create("/ProdnOrdConf2",u,{success:function(t){var s={};s["Mtype"]="Success";s["Msg"]="Production Order Confirmattion created with Confirmation Group "+t.ConfirmationGroup+t.ConfirmationCount;r._msgArr.push(s);e()},error:function(e){var s={};s["Mtype"]="Error";s["Msg"]=e.responseText;r._msgArr.push(s);t()},groupId:a})});this._oPromises.push(E)}return this._oPromises},promiseCompleted:function(){this._msgData.msgs=this._msgArr;this._msgModel.setData(this._msgData);sap.ui.getCore().setModel(this._msgModel,"mModel");var e=new s({type:"{type}",title:"{title}",activeTitle:"{active}",description:"{description}",subtitle:"{subtitle}",counter:"{counter}"});o=new t({items:{path:"/",template:e},activeTitlePress:function(){}});var r=0;var a=0;var n=[];for(var u=0;u<this._msgArr.length;u++){var c={};if(this._msgArr[u].Mtype=="Success"){c["type"]=this._msgArr[u].Mtype;c["title"]="Success Message";c["active"]=false;c["description"]=this._msgArr[u].Msg;c["subtitle"]="Production Order Confirmaiton Created";r=r+1;c["conunter"]=r}else{c["type"]=this._msgArr[u].Mtype;c["title"]="Error Message";c["active"]=true;c["description"]=this._msgArr[u].Msg;c["subtitle"]="Production Order Confirmaiton Creattion Failed";a=a+1;c["conunter"]=r}n.push(c)}var d=new sap.ui.model.json.JSONModel;d.setData(n);this.getView().setModel(d);var l=new i({id:"logBut",text:"Log",type:"Emphasized",width:"6rem",formter:function(){}});l.addDependent(o);l.attachPress(this.handleMessagePopoverPress);var p=this.getView().byId("oToolBar");p.addContent(l);this.byId("cUpload").setEnabled(false);this.byId("tUpload").setEnabled(false);this.byId("fileUploader").setEnabled(false)},handlePost:function(){var e=this;var r=0;Promise.allSettled=function(t){t.forEach(function(t){t.then(function(s){r=r+1;if(r===e._oPromises.length){sap.ui.core.BusyIndicator.hide();e.promiseCompleted()}return t},function(t){r=r+1;if(r===e._oPromises.length){sap.ui.core.BusyIndicator.hide();e.promiseCompleted()}})});return t};var t=[];t=this.createProdConfPress();var s=Promise.allSettled(t)},buttonTypeFormatter:function(){var e;var r=this.getView().getModel().oData;r.forEach(function(r){switch(r.type){case"Error":e="Negative";break;case"Warning":e=e!=="Negative"?"Critical":e;break;case"Success":e=e!=="Negative"&&e!=="Critical"?"Success":e;break;default:e=!e?"Neutral":e;break}});return e},buttonIconFormatter:function(){var e;var r=this.getView().getModel().oData;r.forEach(function(r){switch(r.type){case"Error":e="sap-icon://message-error";break;case"Warning":e=e!=="sap-icon://message-error"?"sap-icon://message-warning":e;break;case"Success":e="sap-icon://message-error"&&e!=="sap-icon://message-warning"?"sap-icon://message-success":e;break;default:e=!e?"sap-icon://message-information":e;break}});return e},handleMessagePopoverPress:function(e){o.toggle(e.getSource())},handleRefresh:function(){this._tModel.setData();this._msgArr=[];this._oPromises=[];this._msgModel.setData();this.byId("tUpload").setEnabled(true);this.byId("fileUploader").setEnabled(true);this.byId("fileUploader").clear();this.byId("cUpload").setEnabled(false);var e=sap.ui.getCore().byId("logBut");e.destroy()},validateFileData:function(){var e=this._tModel.getData();var r=0;var a=[];for(var n=0;n<e.prec.length;n++){var u=e.prec[n].ValidFT;var c=e.prec[n].ValidFET;var d=u.substr(2,2);var l=u.substr(5,2);var p=u.substr(8,2);var v=c.substr(2,2);var b=c.substr(5,2);var g=c.substr(8,2);var h=e.prec[n].ValidF;var f=e.prec[n].ValidFE;var m=e.prec[n].ValidFT;var E=e.prec[n].ValidFET;var M=h.substr(0,4)+"/"+h.substr(5,2)+"/"+h.substr(8,2)+" "+m.substr(2,2)+":"+m.substr(5,2)+":"+m.substr(8,2);var y=f.substr(0,4)+"/"+f.substr(5,2)+"/"+f.substr(8,2)+" "+E.substr(2,2)+":"+E.substr(5,2)+":"+E.substr(8,2);var T=new Date(M);var P=new Date(y);if(T>P){var w={};w["type"]="Error";w["title"]="Error Message";w["active"]=true;w["description"]="Execution Start Date Time is greator than Execution End Date Time  !";w["subtitle"]="Execution Date Time is wrong ! ";r=r+1;w["conunter"]=r;a.push(w)}var C=e.prec[n].BT;if(isNaN(C)){var D={};D["type"]="Error";D["title"]="Error Message";D["active"]=true;D["description"]="Break Time should be numeric value!";D["subtitle"]="Break Time is not number ! ";r=r+1;D["conunter"]=r;a.push(D)}else{}if(e.prec[n].BT==""){var I={};I["type"]="Error";I["title"]="Error Message";I["active"]=true;I["description"]="Break Time can not be blank !";I["subtitle"]="Break Time is wrong ! ";r=r+1;I["conunter"]=r;a.push(I)}if(d>23){var _={};_["type"]="Error";_["title"]="Error Message";_["active"]=true;_["description"]="Hours can not be greator than 23";_["subtitle"]="Hours are wrong ! ";r=r+1;_["conunter"]=r;a.push(_)}if(l>59){var S={};S["type"]="Error";S["title"]="Error Message";S["active"]=true;S["description"]="Minutes can not be greator than 59";S["subtitle"]="Minutes are wrong ! ";r=r+1;S["conunter"]=r;a.push(S)}if(p>59){var O={};O["type"]="Error";O["title"]="Error Message";O["active"]=true;O["description"]="Seconds can not be greator than 59";O["subtitle"]="Seconds are wrong ! ";r=r+1;O["conunter"]=r;a.push(O)}if(v>23){var k={};k["type"]="Error";k["title"]="Error Message";k["active"]=true;k["description"]="Hours can not be greator than 23";k["subtitle"]="Hours are wrong ! ";r=r+1;k["conunter"]=r;a.push(k)}if(b>59){var F={};F["type"]="Error";F["title"]="Error Message";F["active"]=true;F["description"]="Minutes can not be greator than 59";F["subtitle"]="Minutes are wrong ! ";r=r+1;F["conunter"]=r;a.push(F)}if(g>59){var N={};N["type"]="Error";N["title"]="Error Message";N["active"]=true;N["description"]="Seconds can not be greator than 59";N["subtitle"]="Seconds are wrong ! ";r=r+1;O["conunter"]=r;a.push(N)}}var V=new s({type:"{type}",title:"{title}",activeTitle:"{active}",description:"{description}",subtitle:"{subtitle}",counter:"{counter}"});if(a.length>0){o=new t({items:{path:"/",template:V},activeTitlePress:function(){}});var B=new sap.ui.model.json.JSONModel;B.setData(a);this.getView().setModel(B);var U=new i({id:"logBut",text:"Log",type:"Emphasized",width:"6rem",formter:function(){}});U.addDependent(o);U.attachPress(this.handleMessagePopoverPress);var A=this.getView().byId("oToolBar");A.addContent(U);this.byId("cUpload").setEnabled(false);this.byId("tUpload").setEnabled(false);this.byId("fileUploader").setEnabled(false);return false}else{return true}}})});
},
	"Prod_Ord_Conf/Production_Ord_Conf/controller/Log.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History"],function(t,o){"use strict";return t.extend("Prod_Ord_Conf.Production_Ord_Conf.controller.Log",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("RLog").attachPatternMatched(this.displayLog,this)},displayLog:function(){var t=sap.ui.getCore().getModel("mModel");this.getView().setModel(t)},onNavBack:function(){var t=true;this.getOwnerComponent().getRouter().navTo("RouteFileUpload",{},t)}})});
},
	"Prod_Ord_Conf/Production_Ord_Conf/i18n/i18n.properties":'title=Production Order Confirmation Upload\nappTitle=Production_Ord_Conf\nappDescription=App Description',
	"Prod_Ord_Conf/Production_Ord_Conf/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"Prod_Ord_Conf.Production_Ord_Conf","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","sourceTemplate":{"id":"ui5template.basicSAPUI5ApplicationProject","version":"1.40.12"},"dataSources":{"PDSRC":{"uri":"/destinations/S4HC/sap/opu/odata/sap/API_PROD_ORDER_CONFIRMATION_2_SRV/","type":"OData","settings":{"odataVersion":"2.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"rootView":{"viewName":"Prod_Ord_Conf.Production_Ord_Conf.view.FileUpload","type":"XML","async":true,"id":"FileUpload"},"dependencies":{"minUI5Version":"1.65.6","libs":{"sap.ui.layout":{},"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"Prod_Ord_Conf.Production_Ord_Conf.i18n.i18n"}},"PORD":{"dataSource":"PDSRC"}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"Prod_Ord_Conf.Production_Ord_Conf.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RouteFileUpload","pattern":"RouteFileUpload","target":["TargetFileUpload"]},{"name":"RLog","pattern":"RLog","target":"Log"}],"targets":{"TargetFileUpload":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"FileUpload","viewName":"FileUpload","viewLevel":1},"Log":{"viewType":"XML","viewId":"vLog","viewName":"Log","viewLevel":2}}}},"sap.platform.hcp":{"uri":"webapp","_version":"1.1.0"}}',
	"Prod_Ord_Conf/Production_Ord_Conf/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"Prod_Ord_Conf/Production_Ord_Conf/view/FileUpload.view.xml":'<mvc:View controllerName="Prod_Ord_Conf.Production_Ord_Conf.controller.FileUpload" xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n\txmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:u="sap.ui.unified"><Shell id="shell"><App id="app"><pages><Page id="page" title="{i18n>title}"><content><Panel><FlexBox height="50px" alignItems="Center" justifyContent="Center" ><items><Text text="Upload File" width="5rem"></Text><l:HorizontalLayout><u:FileUploader width="16rem" id="fileUploader" name="myFileUpload" uploadUrl="upload/" tooltip="Upload your file to the local server"\n\t\t\t\t\t\t\t\t\t\tuploadComplete="handleUploadComplete" \n\t\t\t\t\t\t\t\t\t\t/><ToolbarSpacer/><Button width="5rem" id="tUpload" icon="sap-icon://upload" press="handleUploadPress"  type="Emphasized"/><Button width="5rem" id="cUpload" icon="sap-icon://upload-to-cloud" press="handlePost" type="Emphasized"/><Button width="5rem" id="rclear" icon="sap-icon://refresh" press="handleRefresh"  type="Emphasized"/></l:HorizontalLayout></items></FlexBox></Panel><Table id="prodTable" items="{ path: \'/prec\'}" growing="true"><headerToolbar><Toolbar><Title text="Production Order Data" level="H2"/></Toolbar></headerToolbar><columns><Column width="5rem"><Text text="Prodcution Order"/></Column><Column width="5rem"><Text text="Order Operation"/></Column><Column width="5rem"><Text text="FinalConfirmation"/></Column><Column width="3rem"><Text text="Yield"/></Column><Column width="6rem"><Text text="ConfirmationText"/></Column><Column width="6rem"><Text text="Exec Start Date"/></Column><Column width="6rem"><Text text="Exec Start Time"/></Column><Column width="6rem"><Text text="Exec End Date"/></Column><Column width="6rem"><Text text="Exec End Time"/></Column><Column width="6rem"><Text text="Posting Date"/></Column><Column width="3rem"><Text text="Break Time"/></Column><Column width="6rem"><Text text="Personal Number"/></Column></columns><items><ColumnListItem><cells><Text text="{OrdNo}"/><Text text="{OpNo}"/><Text text="{Ctype}"/><Text text="{Quan}"/><Text text="{CTEXT}"/><Text text="{ValidF}" /><Text text="{ValidFT}" /><Text text="{ValidFE}"/><Text text="{ValidFET}"/><Text text="{PDATE}"/><Text text="{BT}"/><Text text="{PNO}"/></cells></ColumnListItem></items></Table></content><footer><OverflowToolbar  id="oToolBar" ></OverflowToolbar></footer></Page></pages></App></Shell></mvc:View>',
	"Prod_Ord_Conf/Production_Ord_Conf/view/Log.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n\tcontrollerName="Prod_Ord_Conf.Production_Ord_Conf.controller.Log" xmlns:html="http://www.w3.org/1999/xhtml"\n\tid="vLog"><Page navButtonPress="onNavBack"\n\t      showNavButton="true"><Table id="msgTable" items="{ path: \'/msgs\'}" growing="true"><headerToolbar><Toolbar><Title text="Log- Upload Prodction Order Confirmation" level="H2"/></Toolbar></headerToolbar><columns><Column width="1rem"><Text text="Message Type"/></Column><Column width="12rem"><Text text="Message"/></Column></columns><items><ColumnListItem><cells><Text text="{Mtype}"/><Text text="{Msg}"/></cells></ColumnListItem></items></Table></Page></mvc:View>'
}});
