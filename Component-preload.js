//@ui5-bundle Prod_Ord_Conf/Production_Ord_Conf/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"Prod_Ord_Conf/Production_Ord_Conf/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","Prod_Ord_Conf/Production_Ord_Conf/model/models"],function(e,o,t){"use strict";return e.extend("Prod_Ord_Conf.Production_Ord_Conf.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(t.createDeviceModel(),"device")},destroy:function(){sap.ui.core.UIComponent.prototype.destroy.apply(this,arguments)}})});
},
	"Prod_Ord_Conf/Production_Ord_Conf/controller/FileUpload.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/core/format/DateFormat"],function(e,r,s){"use strict";return e.extend("Prod_Ord_Conf.Production_Ord_Conf.controller.FileUpload",{onInit:function(){this._pModel=this.getOwnerComponent().getModel("PORD");this._tModel=new sap.ui.model.json.JSONModel;this._msgModel=new sap.ui.model.json.JSONModel;this._oPromises=[];this._msgArr=[];this._msgData={msgs:this._msgArr};var e=this.byId("cUpload");e.setEnabled(false)},handleUploadPress:function(){var e=this;var s=[];var t=[];var a={prec:t};var o=this.byId("fileUploader");var i=this.byId("prodTable");if(!o.getValue()){r.show("Select the file first!");return}else{var n=o.getFocusDomRef();var d=n.files[0];if(d&&window.FileReader){var c=new FileReader;c.onload=function(r){var o=r.target.result;var n=o.match(/[\w .]+(?=,?)/g);var d=14;var c=n.splice(0,d);while(n.length>0){var u={};var l={};var p=n.splice(0,d);for(var m=0;m<p.length;m++){u[c[m]]=p[m].trim();switch(m){case 0:l["OrdNo"]=u[c[m]];break;case 1:l["OpNo"]=u[c[m]];break;case 2:l["Seq"]=u[c[m]];break;case 3:l["Ctype"]=u[c[m]];break;case 4:l["Quan"]=u[c[m]];break;case 5:l["Unit"]=u[c[m]];break;case 6:l["CTEXT"]=u[c[m]];break;case 7:var f=u[c[m]];l["ValidF"]=f.substr(0,4)+"-"+f.substr(4,2)+"-"+f.substr(6,2)+"T00:00:00";break;case 8:var h=u[c[m]];l["ValidFT"]="PT"+h.substr(0,2)+"H"+h.substr(2,2)+"M"+h.substr(4,2)+"S";break;case 9:var v=u[c[m]];l["ValidFE"]=v.substr(0,4)+"-"+v.substr(4,2)+"-"+v.substr(6,2)+"T00:00:00";break;case 10:var g=u[c[m]];l["ValidFET"]="PT"+g.substr(0,2)+"H"+g.substr(2,2)+"M"+g.substr(4,2)+"S";break;case 11:var b=u[c[m]];l["PDATE"]=b.substr(0,4)+"-"+b.substr(4,2)+"-"+b.substr(6,2)+"T00:00:00";break;case 12:l["BT"]=u[c[m]];break;case 13:l["PNO"]=u[c[m]];break}}s.push(u);t.push(l)}e._tModel.setData(a);i.setModel(e._tModel);var C=e.byId("cUpload");C.setEnabled(true)};c.readAsBinaryString(d)}}},createProdConfPress:function(){sap.ui.core.BusyIndicator.show();var e=this;var r=this._tModel.getData();var s=this._pModel;var t;for(var a=0;a<r.prec.length;a++){var o={};o.OrderID=r.prec[a].OrdNo;o.OrderOperation=r.prec[a].OpNo;o.Sequence=r.prec[a].Seq;if(r.prec[a].Ctype=="Y"){o.FinalConfirmationType="X"}o.ConfirmationYieldQuantity=r.prec[a].Quan;o.ConfirmationText=r.prec[a].CTEXT;o.ConfirmationUnit=r.prec[a].Unit;o.ConfirmedExecutionStartDate=r.prec[a].ValidF;o.ConfirmedExecutionStartTime=r.prec[a].ValidFT;o.ConfirmedProcessingEndDate=r.prec[a].ValidFE;o.ConfirmedProcessingEndTime=r.prec[a].ValidFET;o.PostingDate=r.prec[a].Pdate;o.ConfirmedBreakDuration=r.prec[a].BT;o.Personnel=r.prec[a].PNO;t="GID"+a;var i=new Promise(function(r,a){s.create("/ProdnOrdConf2",o,{success:function(s){var t={};t["Mtype"]="Success";t["Msg"]="Production Order Confirmattion created with Confirmation Group "+s.ConfirmationGroup+s.ConfirmationCount;e._msgArr.push(t);r()},error:function(r){var s={};s["Mtype"]="Error";s["Msg"]=r.responseText;e._msgArr.push(s);a()},groupId:t})});this._oPromises.push(i)}return this._oPromises},promiseCompleted:function(){this._msgData.msgs=this._msgArr;this._msgModel.setData(this._msgData);sap.ui.getCore().setModel(this._msgModel,"mModel");this.getOwnerComponent().getRouter().navTo("RLog")},handlePost:function(){var e=this;var s=0;Promise.allSettled=function(t){t.forEach(function(t){t.then(function(a){s=s+1;if(s===e._oPromises.length){sap.ui.core.BusyIndicator.hide();r.show(s+"Production Order Confirmation successfully Created");e.promiseCompleted()}return t},function(r){s=s+1;if(s===e._oPromises.length){sap.ui.core.BusyIndicator.hide();e.promiseCompleted()}})});return t};var t=[];t=this.createProdConfPress();var a=Promise.allSettled(t)}})});
},
	"Prod_Ord_Conf/Production_Ord_Conf/controller/Log.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History"],function(t,o){"use strict";return t.extend("Prod_Ord_Conf.Production_Ord_Conf.controller.Log",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("RLog").attachPatternMatched(this.displayLog,this)},displayLog:function(){var t=sap.ui.getCore().getModel("mModel");this.getView().setModel(t)},onNavBack:function(){var t=true;this.getOwnerComponent().getRouter().navTo("RouteFileUpload",{},t)}})});
},
	"Prod_Ord_Conf/Production_Ord_Conf/i18n/i18n.properties":'title=Production Order Confirmation Uplaod\nappTitle=Production_Ord_Conf\nappDescription=App Description',
	"Prod_Ord_Conf/Production_Ord_Conf/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"Prod_Ord_Conf.Production_Ord_Conf","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","sourceTemplate":{"id":"ui5template.basicSAPUI5ApplicationProject","version":"1.40.12"},"dataSources":{"PDSRC":{"uri":"/destinations/S4HC/sap/opu/odata/sap/API_PROD_ORDER_CONFIRMATION_2_SRV/","type":"OData","settings":{"odataVersion":"2.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"rootView":{"viewName":"Prod_Ord_Conf.Production_Ord_Conf.view.FileUpload","type":"XML","async":true,"id":"FileUpload"},"dependencies":{"minUI5Version":"1.65.6","libs":{"sap.ui.layout":{},"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"Prod_Ord_Conf.Production_Ord_Conf.i18n.i18n"}},"PORD":{"dataSource":"PDSRC"}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"Prod_Ord_Conf.Production_Ord_Conf.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RouteFileUpload","pattern":"RouteFileUpload","target":["TargetFileUpload"]},{"name":"RLog","pattern":"RLog","target":"Log"}],"targets":{"TargetFileUpload":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"FileUpload","viewName":"FileUpload","viewLevel":1},"Log":{"viewType":"XML","viewId":"vLog","viewName":"Log","viewLevel":2}}}},"sap.platform.hcp":{"uri":"webapp","_version":"1.1.0"}}',
	"Prod_Ord_Conf/Production_Ord_Conf/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"Prod_Ord_Conf/Production_Ord_Conf/view/FileUpload.view.xml":'<mvc:View controllerName="Prod_Ord_Conf.Production_Ord_Conf.controller.FileUpload" xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n\txmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:u="sap.ui.unified" ><Shell id="shell"><App id="app"><pages><Page id="page" title="{i18n>title}"><content><Panel><FlexBox height="50px"\n\t\t\t\t\t   \t         alignItems="Center"\n\t\t\t\t\t   \t         justifyContent="Center"><items><Text text="Upload File" width="5rem"></Text><u:FileUploader width="16rem" id="fileUploader" name="myFileUpload" uploadUrl="upload/" tooltip="Upload your file to the local server"\n\t\t\t\t\t\t\t\tuploadComplete="handleUploadComplete"/><ToolbarSpacer/><Button width="5rem" icon="sap-icon://upload" press="handleUploadPress"/><Button width="5rem" id="cUpload" icon="sap-icon://upload-to-cloud" press="handlePost"/></items></FlexBox></Panel><Table id="prodTable" items="{ path: \'/prec\'}" growing="true"><headerToolbar><Toolbar><Title text="Prodction Order Data" level="H2"/></Toolbar></headerToolbar><columns><Column width="5rem"><Text text="Prodcution Order"/></Column><Column width="5rem"><Text text="Order Operation"/></Column><Column width="5rem"><Text text="Sequence"/></Column><Column width="5rem"><Text text="FinalConfirmation"/></Column><Column width="3rem"><Text text="Yield"/></Column><Column width="6rem"><Text text="ConfirmationText"/></Column><Column width="3rem"><Text text="Unit"/></Column><Column width="6rem"><Text text="Exec Start Date"/></Column><Column width="6rem"><Text text="Exec Start Time"/></Column><Column width="6rem"><Text text="Exec End Date"/></Column><Column width="6rem"><Text text="Exec End Time"/></Column><Column width="6rem"><Text text="Posting Date"/></Column><Column width="3rem"><Text text="Break Time"/></Column><Column width="6rem"><Text text="Personal Number"/></Column></columns><items><ColumnListItem><cells><Text text="{OrdNo}"/><Text text="{OpNo}"/><Text text="{Seq}"/><Text text="{Ctype}"/><Text text="{Quan}"/><Text text="{CTEXT}"/><Text text="{Unit}"/><Text text="{ValidF}"/><Text text="{ValidFT}"/><Text text="{ValidFE}"/><Text text="{ValidFET}"/><Text text="{PDATE}"/><Text text="{BT}"/><Text text="{PNO}"/></cells></ColumnListItem></items></Table></content></Page></pages></App></Shell></mvc:View>',
	"Prod_Ord_Conf/Production_Ord_Conf/view/Log.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n\tcontrollerName="Prod_Ord_Conf.Production_Ord_Conf.controller.Log" xmlns:html="http://www.w3.org/1999/xhtml"\n\tid="vLog"><Page navButtonPress="onNavBack"\n\t      showNavButton="true"><Table id="msgTable" items="{ path: \'/msgs\'}" growing="true"><headerToolbar><Toolbar><Title text="Log- Upload Prodction Order Confirmation" level="H2"/></Toolbar></headerToolbar><columns><Column width="1rem"><Text text="Message Type"/></Column><Column width="12rem"><Text text="Message"/></Column></columns><items><ColumnListItem><cells><Text text="{Mtype}"/><Text text="{Msg}"/></cells></ColumnListItem></items></Table></Page></mvc:View>'
}});
